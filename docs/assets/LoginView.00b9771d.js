import{_ as C,g as P,s as k}from"./index.068fdd61.js";import{a as U}from"./axios.d349c3b3.js";import{h as S,ag as t,o as R,c as E,X as e,R as o,a as n,V as m,aw as L,ax as B}from"./@vue.88ba4ddc.js";import"./geotiff.15ae615c.js";import"./vue-router.1c4533a7.js";import"./ol.c3d2637f.js";import"./rbush.314566ea.js";import"./quickselect.bc77a5ac.js";import"./element-plus.7b496d94.js";import"./lodash-es.a286bec7.js";import"./@vueuse.8dbaa908.js";import"./@element-plus.eabea6f1.js";import"./@popperjs.36402333.js";import"./@ctrl.82a509e0.js";import"./dayjs.46f97078.js";import"./async-validator.fb49d0f5.js";import"./memoize-one.4ee5c96d.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./@floating-ui.f14f28ca.js";import"./echarts.7885de64.js";import"./tslib.60310f1a.js";import"./zrender.6135380a.js";import"./form-data.d1f94bc2.js";const T="/AbaloneGermplasm/favicon.ico";const q={data(){return{serverHostPort:S().appContext.config.globalProperties.$serverHostPort,activeName:"first",loginForm:{email:"",password:""},signupForm:{email:"",password:"",confirm:""},loginFormRules:{email:[{required:!0,message:"Please input email as username !",trigger:"blur"}],password:[{required:!0,message:"Please input password, which will be convert to hash code !",trigger:"blur"}]},signupFormRules:{email:[{required:!0,message:"Please input email as username !",trigger:"blur"}],password:[{required:!0,message:"Please input password, which will be convert to hash code !",trigger:"blur"}],confirm:[{required:!0,message:"Please input password again, which using confirm !",trigger:"blur"}]}}},mounted(){P("username")&&this.$router.push("/")},methods:{login(){const r="admin@admin.com",l="BenthicLab";if(!this.loginForm.email||!this.loginForm.password){this.$message({message:"Please input your email and password !",type:"warning"});return}this.loginForm.email===r&&this.loginForm.password===l?(this.$message({message:"Login success, welcome dear admin !",type:"success"}),k("username",this.loginForm.email,1e3*60),setTimeout(()=>{this.$router.push("/")},1e3)):this.$message({message:"The username/email or password not correct !",type:"error"})},resetLoginForm(){this.loginForm.email="",this.loginForm.password=""},signup(){this.signupForm.email==""||this.signupForm.password==""||this.signupForm.confirm==""?this.$message({message:"Please input your email and password !",type:"warning"}):U.post(this.serverHostPort+"signup",this.signupForm).then(r=>{r.data=="EmailError"?this.$message({message:"Please input username with email format contain @ !",type:"warning"}):r.data=="PasswordError"?this.$message({message:"Please input password > 6 for more security !",type:"warning"}):r.data=="ConfirmError"?this.$message({message:"The password not equal confirm you inputed !",type:"warning"}):r.data=="ExistError"?this.$message({message:"The username/email already exist, please login !",type:"warning"}):r.data=="SignupSuccess"&&this.$message({message:"Signup success, please login !",type:"success"})})},resetSignupForm(){this.signupForm.email="",this.signupForm.password="",this.signupForm.confirm=""}}},g=r=>(L("data-v-e8e6ea2c"),r=r(),B(),r),N={class:"loginBG"},H=g(()=>n("div",{class:"logo-circle"},[n("img",{src:T,style:{width:"80px","aspect-ratio":"true"}})],-1)),I=g(()=>n("br",null,null,-1)),X={style:{"text-align":"right","margin-top":"30px"}},G=g(()=>n("h5",null,"Copyright: Xiamen University",-1)),M={style:{"text-align":"right"}},A=g(()=>n("h5",null,"Copyright: Xiamen University",-1));function j(r,l,z,D,s,d){const b=t("UserFilled"),a=t("el-icon"),p=t("el-input"),u=t("el-form-item"),_=t("Hide"),c=t("el-button"),f=t("el-divider"),h=t("BellFilled"),w=t("el-alert"),y=t("el-form"),F=t("el-tab-pane"),x=t("Message"),v=t("el-tabs"),V=t("el-card");return R(),E("div",N,[e(V,null,{default:o(()=>[H,e(v,{modelValue:s.activeName,"onUpdate:modelValue":l[5]||(l[5]=i=>s.activeName=i),class:"demo-tabs",onTabClick:r.handleClick},{default:o(()=>[e(F,{label:"Login",name:"first"},{default:o(()=>[e(y,{ref:"loginFormRef",model:s.loginForm,"status-icon":"",rules:s.loginFormRules,"label-width":"80px"},{default:o(()=>[e(u,{label:"Username",prop:"email"},{default:o(()=>[e(p,{modelValue:s.loginForm.email,"onUpdate:modelValue":l[0]||(l[0]=i=>s.loginForm.email=i),type:"text",placeholder:"example@xxx.edu.cn",autocomplete:"off",clearable:""},{suffix:o(()=>[e(a,null,{default:o(()=>[e(b)]),_:1})]),_:1},8,["modelValue"])]),_:1}),I,e(u,{label:"Password",prop:"password"},{default:o(()=>[e(p,{modelValue:s.loginForm.password,"onUpdate:modelValue":l[1]||(l[1]=i=>s.loginForm.password=i),type:"password",placeholder:"Password",autocomplete:"off",clearable:""},{suffix:o(()=>[e(a,null,{default:o(()=>[e(_)]),_:1})]),_:1},8,["modelValue"])]),_:1}),n("div",X,[e(c,{type:"primary",onClick:d.login,style:{color:"#000000"}},{default:o(()=>[m(" User Login ")]),_:1},8,["onClick"]),e(c,{type:"warning",onClick:d.resetLoginForm,style:{"text-algin":"right",color:"#000000"}},{default:o(()=>[m(" Form Reset ")]),_:1},8,["onClick"])]),e(f,{style:{"margin-top":"50px"}}),e(w,{type:"danger",closable:!1},{default:o(()=>[e(a,null,{default:o(()=>[e(h)]),_:1}),m(" Please register if you don't have an account yet! ")]),_:1}),G]),_:1},8,["model","rules"])]),_:1}),e(F,{label:"Signup",name:"second"},{default:o(()=>[e(y,{ref:"signupFormRef",model:s.signupForm,"status-icon":"",rules:s.signupFormRules,"label-width":"80px"},{default:o(()=>[e(u,{label:"Email",prop:"email"},{default:o(()=>[e(p,{modelValue:s.signupForm.email,"onUpdate:modelValue":l[2]||(l[2]=i=>s.signupForm.email=i),type:"email",placeholder:"example@xxx.edu.cn",autocomplete:"off",clearable:""},{suffix:o(()=>[e(a,null,{default:o(()=>[e(x)]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(u,{label:"Password",prop:"password"},{default:o(()=>[e(p,{modelValue:s.signupForm.password,"onUpdate:modelValue":l[3]||(l[3]=i=>s.signupForm.password=i),type:"password",placeholder:"Password",autocomplete:"off",clearable:""},{suffix:o(()=>[e(a,null,{default:o(()=>[e(_)]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(u,{label:"Confirm",prop:"confirm"},{default:o(()=>[e(p,{modelValue:s.signupForm.confirm,"onUpdate:modelValue":l[4]||(l[4]=i=>s.signupForm.confirm=i),type:"password",placeholder:"Confirm",autocomplete:"off",clearable:""},{suffix:o(()=>[e(a,null,{default:o(()=>[e(_)]),_:1})]),_:1},8,["modelValue"])]),_:1}),n("div",M,[e(c,{type:"primary",onClick:d.signup,style:{color:"#000000"}},{default:o(()=>[m(" User Signup ")]),_:1},8,["onClick"]),e(c,{type:"warning",onClick:d.resetSignupForm,style:{"text-algin":"right",color:"#000000"}},{default:o(()=>[m(" Form Reset ")]),_:1},8,["onClick"])]),e(f,{style:{"margin-top":"50px"}}),e(w,{type:"danger",closable:!1},{default:o(()=>[e(a,null,{default:o(()=>[e(h)]),_:1}),m(" Please register if you don't have an account yet! ")]),_:1}),A]),_:1},8,["model","rules"])]),_:1})]),_:1},8,["modelValue","onTabClick"])]),_:1})])}const fe=C(q,[["render",j],["__scopeId","data-v-e8e6ea2c"]]);export{fe as default};
